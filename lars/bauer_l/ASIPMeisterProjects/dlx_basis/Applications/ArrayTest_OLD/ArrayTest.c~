#define LENGTH 20

static unsigned int input1[LENGTH] = {321,51,890,75,78,7,341,2342,568,789,7,3461,1235,346,75,685,79,45,35};
static unsigned int input2[LENGTH] = {45,765,12,78,74,42,1253,236,5683,79,86,643,5231,3461,57,785,79,47,3461,2513};
static unsigned int resultAvg[LENGTH];
static unsigned int result2ndBytes[LENGTH];

int main() {
  unsigned int i;
  unsigned int byte2_1, byte2_2;
  const unsigned int mask = 0xFF00;

  for (i=0; i<LENGTH; i++) {
    resultAvg[i] = (input1[i] + input2[i]) / 2;
    byte2_1 = (input1[i] & mask) >> 8;
    byte2_2 = (input2[i] & mask) >> 8;
    result2ndBytes[i] = byte2_1 | byte2_2;
  }
#ifndef COSY
  for (i=0; i<LENGTH; i++) {
    printf("1:%u\t2:%u\t  AVG:%u\t2ndBytes:%u\n", input1[i], input2[i], resultAvg[i], result2ndBytes[i]);
  }
#endif
  return 0;
}
